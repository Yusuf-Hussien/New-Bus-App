<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary SEO Meta Tags -->
    <title>NewBus - تطبيق السائقين | نظام إدارة حافلات جامعة الغردقة</title>
    <meta name="title" content="NewBus - تطبيق السائقين | نظام إدارة حافلات جامعة الغردقة" />
    <meta name="description" content="تطبيق NewBus للسائقين - إدارة الحافلات والرحلات في نظام النقل بجامعة الغردقة. تتبع الموقع، إدارة المسارات، وتحديث حالة الرحلات في الوقت الفعلي." />
    <meta name="keywords" content="bus, hurghada, newbus, new bus, hurghada bus, hurghada university, hurghada bus transport, university bus, bus tracking, bus management, hurghada transportation, student bus, hurghada student transport, bus app, public transport hurghada, university transport system, driver app, bus driver, حافلة, الغردقة, حافلة الغردقة, جامعة الغردقة, سائق حافلة, نظام النقل الجامعي" />
    <meta name="author" content="NewBus" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="Arabic" />
    <meta name="revisit-after" content="7 days" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://newbus.vercel.app/driver" />
    <meta property="og:title" content="NewBus - تطبيق السائقين | نظام إدارة حافلات جامعة الغردقة" />
    <meta property="og:description" content="تطبيق NewBus للسائقين - إدارة الحافلات والرحلات في نظام النقل بجامعة الغردقة. تتبع الموقع، إدارة المسارات، وتحديث حالة الرحلات في الوقت الفعلي." />
    <meta property="og:image" content="https://newbus.vercel.app/icons/icon-512x512.png" />
    <meta property="og:site_name" content="NewBus" />
    <meta property="og:locale" content="ar_EG" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://newbus.vercel.app/driver" />
    <meta property="twitter:title" content="NewBus - تطبيق السائقين | نظام إدارة حافلات جامعة الغردقة" />
    <meta property="twitter:description" content="تطبيق NewBus للسائقين - إدارة الحافلات والرحلات في نظام النقل بجامعة الغردقة. تتبع الموقع، إدارة المسارات، وتحديث حالة الرحلات في الوقت الفعلي." />
    <meta property="twitter:image" content="https://newbus.vercel.app/icons/icon-512x512.png" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://newbus.vercel.app/driver" />
    
    <!-- Theme and PWA -->
    <meta name="theme-color" content="#4A90E2" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="NewBus" />
    <meta name="mobile-web-app-capable" content="yes" />
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "NewBus - تطبيق السائق",
      "description": "نظام إدارة الحافلات والرحلات لسائقي حافلات جامعة الغردقة - تتبع الموقع، إدارة المسارات، وتحديث حالة الرحلات",
      "url": "https://newbus.vercel.app/driver",
      "applicationCategory": "TransportationApplication",
      "operatingSystem": "Web, iOS, Android",
      "inLanguage": "ar",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "EGP"
      },
      "keywords": "bus, hurghada, newbus, new bus, hurghada bus, hurghada university, hurghada bus transport, university bus, bus tracking, bus management, hurghada transportation, student bus, hurghada student transport, bus app, public transport hurghada, university transport system, driver app"
    }
    </script>
    <link rel="manifest" href="manifest.json" />
    <link rel="apple-touch-icon" href="icons/icon-192x192.png" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&display=swap">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <!-- ملفات CSS -->
    <link rel="stylesheet" href="driver/driver.css">
    <link rel="stylesheet" href="driver/profile.css"> <!-- الملف الجديد -->
</head>
<body>
    <!-- Toast Notifications Container -->
    <div class="toast-container" id="toastContainer"></div>

    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-bus"></i>
                    <span>NewBus - تطبيق السائق</span>
                </div>
                
                <div class="user-info">
                    <div class="user-profile">
                        <div class="user-avatar">
                            <i class="fas fa-id-card"></i>
                        </div>
                        <div>
                            <div class="user-name" id="userName">السائق</div>
                            <div class="user-type-badge">سائق</div>
                        </div>
                    </div>
                    
                    <!-- زر البروفايل -->
                    <div class="profile-buttons">
                        <button class="profile-btn view-profile-btn" onclick="showProfileModal()">
                            <i class="fas fa-eye"></i> عرض البروفايل
                        </button>
                    </div>
                    
                    <button class="logout-btn" onclick="handleLogout()">
                        <i class="fas fa-sign-out-alt"></i> تسجيل الخروج
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="container main-content" id="mainContent"></div>

    <!-- Profile Modal Container -->
    <div id="modalContainer"></div>

    <!-- زر عائم للهواتف -->
    <button class="floating-update-btn" onclick="showUpdateProfileModal()">
        <i class="fas fa-edit"></i>
        <span>تحديث</span>
    </button>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    <!-- SignalR JS -->
    <script src="https://cdn.jsdelivr.net/npm/@microsoft/signalr@7.0.0/dist/browser/signalr.min.js"></script>
    <!-- ملفات JavaScript -->
    <script src="driver/driver.js"></script>
    <script src="driver/profile.js"></script>
    <!-- Service Worker Registration -->
    <script src="sw-register.js"></script>
</body>
</html>